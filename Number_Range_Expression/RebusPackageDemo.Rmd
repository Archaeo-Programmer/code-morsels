---
title: "Generate a Regular Expression for a Number Range in R"
author: "Andrew Gillreath-Brown"
mainfont: Calibri
output:
  html_document:
    code_folding: show
    keep_md: yes
    number_sections: yes
    theme: sandstone
    toc: yes
    toc_depth: 3
    toc_float: yes
  pdf_document:
    toc: yes
    toc_depth: '3'
always_allow_html: yes
---

Not too long ago, I was trying to find a simple way to get files that were in a particular year range in R. I tried writing regular expressions, but these always failed.

However, I eventually stumbled upon the `rebus` package that could make this extremely easy. Here, I have created a very simple demo to show the function `number_range`, which will generate the regular expression.

```{r load_packages, include=TRUE}

library(rebus)

```

Download the files and put them in your working directory. I simply named the folder “DummyFiles”.

```{r data, include=TRUE, results='asis'}

# Specify a directory for the dummy rtf files.
DUMMY.DIR <- "../Data/DummyFiles/"

# Get list of all file names in the dummy directory.
dummy.files <- list.files(paste0(DUMMY.DIR), recursive=T, full.names=T)

dummy.files

```

The regular expression, `rx`, that was generated by ‘number_range’ can now be used as the pattern in the ‘grep’ function and applied to the list of files.

```{r demo, include=TRUE, results='asis'}

# Use the rebus package to generate a regular expression for a number range, 
# which will allow for the extraction of specific years in the dummy data (i.e., 1948-1956).
rx <- number_range(1948, 1956)

rx

# Now use the expression stored in rx, and trim list of files to to 1948:1956.
dummy.files <- grep(rx, dummy.files, value = TRUE, perl = TRUE)

dummy.files

```
